@page
@model MyDigitalLibrary.Core.Pages.Account.EditModel
@{
    Layout = "_PublicLayout";
    ViewData["Title"] = "Edit Profile";
}

<div class="container p-4">
  <h2 class="mb-4">Edit Profile</h2>

  @if (Model.Message != null)
  {
    <div class="alert alert-success">@Model.Message</div>
  }

  <form method="post">
    @Html.AntiForgeryToken()

    <ul class="nav nav-tabs" id="profileTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab">Profile</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="features-tab" data-bs-toggle="tab" data-bs-target="#features" type="button" role="tab">Features</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="payment-tab" data-bs-toggle="tab" data-bs-target="#payment" type="button" role="tab">Payment</button>
      </li>
    </ul>

    <div class="tab-content border border-top-0 p-3" id="profileTabsContent">
      <div class="tab-pane fade show active" id="profile" role="tabpanel">
        <div class="mb-3">
          <label asp-for="DisplayName" class="form-label">Name</label>
          <input asp-for="DisplayName" class="form-control" id="nameInput" />
          <span asp-validation-for="DisplayName" class="text-danger"></span>
        </div>
        <div class="form-check">
          <input asp-for="ShareReviews" class="form-check-input" id="reviewsCheck" />
          <label asp-for="ShareReviews" class="form-check-label">Public Reviews</label>
        </div>
      </div>

      <div class="tab-pane fade" id="features" role="tabpanel">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="googleImportCheck" name="feature_google_import" @(Model.GoogleImport ? "checked" : "") />
          <label class="form-check-label" for="googleImportCheck">Google Import</label>
        </div>
      </div>

      <div class="tab-pane fade" id="payment" role="tabpanel">
        <p class="text-muted">Payment options will be added here.</p>
      </div>
    </div>

    <div class="mt-3">
      <button type="submit" class="btn btn-primary">Save Profile</button>
      <a class="btn btn-secondary" href="/">Cancel</a>
    </div>
  </form>
</div>

@section Scripts {
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
}
